(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();const N="/boggle/assets/wordlist-921c5af8.txt",I=document.getElementById("submit-word"),y=document.getElementById("board-div"),v=document.getElementById("start-btn"),G=document.getElementById("custom-game-btn"),i=document.getElementById("custom-game-prompt"),R=document.getElementById("custom-board"),D=document.getElementById("custom-time"),Y=document.getElementById("custom-game-start-btn"),W=document.getElementById("word-list"),H=document.getElementById("score"),C=document.getElementById("time"),j=document.getElementById("game-over"),U=document.getElementById("play-again-btn"),F=document.getElementById("share-btn");let m=100,a="",g=[],r=[],d=0,E=[],S=[],f=!1,T=!1;const B={3:100,4:400,5:800,6:1400,7:1800,8:2200};let b=!1,x="mousedown",k="mouseover",L=!1;"ontouchstart"in window&&(L=!0,x="touchmove",k="click",I.classList.remove("hidden"));function q(){const e=[],o="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<4;t++){const n=[];for(let l=0;l<4;l++)n.push(o[Math.floor(Math.random()*o.length)]);e.push(n)}return e}function K(e){for(let o=0;o<e.length;o++)console.log(e[o].join(" | "))}function O(e){const o=document.getElementById("boggle-board");for(let t=0;t<e.length;t++){const n=o.insertRow();for(let l=0;l<e[t].length;l++){const s=n.insertCell();s.innerHTML=e[t][l],s.setAttribute("data-row",t),s.setAttribute("data-col",l),s.classList.add("cell"),S.push(s),s.addEventListener(k,function(u){if(!b&&!L){console.log("Not selecting word");return}w(u)})}}}let c=null;const h=new URLSearchParams(window.location.search);if(h.has("boardSeed")){const e=h.get("boardSeed");c=V(e)}else c=q();h.has("time")&&(m=parseInt(h.get("time")));console.log("Boggle Board:",c);K(c);O(c);console.log(S);window.addEventListener(x,function(e){document.getElementById("boggle-board").getElementsByTagName("td"),e.target.classList.contains("cell")&&(w(e),b=!0)});function w(e){if(console.log(e.target.nodeName),!!e.target.classList.contains("cell")){if(e.target.style.backgroundColor==="yellow"){p(!1);return}if(a.length>0){const o=g[a.length-1],t=parseInt(o.getAttribute("data-row")),n=parseInt(o.getAttribute("data-col")),l=parseInt(e.target.getAttribute("data-row")),s=parseInt(e.target.getAttribute("data-col"));if(Math.abs(t-l)>1||Math.abs(n-s)>1){p(!1);return}}e.target.style.backgroundColor="yellow",a+=e.target.innerHTML,g.push(e.target),console.log(a),console.log(g)}}function p(e){a="",g=[],b=!1;const t=document.getElementById("boggle-board").getElementsByTagName("td");for(let n=0;n<t.length;n++)e||(t[n].style.backgroundColor="white");for(let n=0;n<t.length;n++)t[n].removeEventListener("mouseover",w)}window.addEventListener("mouseup",function(e){b&&(console.log(a),A(a),p(!0))});L&&I.addEventListener("click",function(e){A(a),p(!0)});async function X(e){let o=await J(N);return o=o.split(`
`),console.log("Checking word: "+e),o.includes(e)?(console.log(e+" was there!"),!0):(console.log(e+" was not there!"),!1)}async function J(e){var o=null,t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.status==200&&(o=t.responseText,console.log(typeof o)),o}async function A(e){console.log("Checking word: "+e),console.log(g),r=g,e=e.toLowerCase();let o=await X(e);if(console.log("Done checking word",o),o&&E.indexOf(e)===-1&&e.length>2){console.log(e+" was there!"),d+=B[e.length],H.textContent="Score: "+d,console.log("Your Score is: "+d),E.push(e);const t=document.createElement("li");t.textContent=e+" - "+B[e.length],W.appendChild(t);for(let n=0;n<r.length;n++)console.log(r[n]),r[n].style.backgroundColor="green";setTimeout(function(){for(let n=0;n<r.length;n++)console.log(r[n]),r[n].style.backgroundColor="white";r=[]},500)}else{console.log(e+" was NOT there...");for(let t=0;t<r.length;t++)console.log(r[t]),r[t].style.backgroundColor="red";setTimeout(function(){for(let t=0;t<r.length;t++)console.log(r[t]),r[t].style.backgroundColor="white";r=[]},500)}}function M(){C.textContent="Time: "+m;var e=Date.now();let o=setInterval(function(){var t=Date.now()-e;let n=m-Math.floor(t/1e3);C.textContent="Time: "+n,n<=0&&(alert("Time's up! Your score is: "+d),clearInterval(o),Q())},1e3)}function Q(){y.classList.add("hidden"),j.classList.remove("hidden");const e=document.getElementById("final-score");e.textContent="Your final score is: "+d+"!";const t=new URLSearchParams(window.location.search).get("score");t!==null&&(d>t?e.textContent+=" You beat the other persons score of "+t+"!":d<t?e.textContent+=" You lost to the other persons score of "+t+"!":e.textContent+=" You tied with the other persons score of "+t+"!")}v.addEventListener("click",function(){y.classList.remove("hidden"),v.parentElement.classList.add("hidden"),M()});U.addEventListener("click",function(){location.reload()});function P(e){let o="";for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){let s=e[t][n].charCodeAt(0);o+=s+"."}return o}function V(e){let o=[],t=[],n="";for(let l=0;l<e.length;l++){if(e[l]==="."){let s=String.fromCharCode(n);t.push(s),n=""}else n+=e[l];t.length===4&&(o.push(t),t=[])}return o}console.log(P(c));F.addEventListener("click",function(){let e=P(c),o=window.location.href;o=o.split("?")[0],o+="?boardSeed="+e,o+="&score="+d,T&&(o+="&time="+m),navigator.clipboard.writeText(o).then(function(){console.log("Async: Copying to clipboard was successful!"),alert("Copied to clipboard!")},function(t){console.error("Async: Could not copy text: ",t)})});G.addEventListener("click",function(){i.classList.contains("inactive")?i.classList.remove("inactive"):i.classList.remove("hidden"),i.classList.add("active"),f=!0});document.addEventListener("keydown",function(e){e.key==="Escape"&&f&&(i.classList.remove("active"),i.classList.add("inactive"),f=!1)});function Z(e){let o=[],t=e.split(".");for(let n=0;n<t.length;n++){const l=[];for(let s=0;s<4;s++){const u=t[n].charAt(s);l.push(u)}o.push(l)}return o}function z(){let e=document.getElementById("boggle-board");e.innerHTML=""}Y.addEventListener("click",function(){let e=R.value,o=D.value;if(e.length===19)c=Z(e),z(),O(c);else if(e.length!==0){alert("Invalid board seed!");return}T=!0,i.classList.remove("active"),i.classList.add("inactive"),f=!1,m=o,y.classList.remove("hidden"),v.parentElement.classList.add("hidden"),M()});
