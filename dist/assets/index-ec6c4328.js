(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();const T="/boggle/assets/wordlist-921c5af8.txt";let C=[],L="mousedown",v="mouseover",m=!1;const E=document.getElementById("submit-word");"ontouchstart"in window&&(m=!0,L="touchmove",v="click",E.classList.remove("hidden"));function x(){const e=[],o="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<4;t++){const n=[];for(let l=0;l<4;l++)n.push(o[Math.floor(Math.random()*o.length)]);e.push(n)}return e}function O(e){for(let o=0;o<e.length;o++)console.log(e[o].join(" | "))}function A(e){const o=document.getElementById("boggle-board");for(let t=0;t<e.length;t++){const n=o.insertRow();for(let l=0;l<e[t].length;l++){const r=n.insertCell();r.innerHTML=e[t][l],r.setAttribute("data-row",t),r.setAttribute("data-col",l),r.classList.add("cell"),C.push(r),r.addEventListener(v,function(u){if(!f&&!m){console.log("Not selecting word");return}h(u)})}}}let a=null;const p=new URLSearchParams(window.location.search);if(p.has("boardSeed")){const e=p.get("boardSeed");a=F(e)}else a=x();const B=document.getElementById("board-div"),b=document.getElementById("start-btn"),M=document.getElementById("word-list"),k=document.getElementById("score"),N=document.getElementById("time"),P=document.getElementById("game-over"),R=document.getElementById("play-again-btn"),D=document.getElementById("share-btn"),Y=100;let c="",d=[],s=[],i=0,y=[];const w={3:100,4:400,5:800,6:1400,7:1800,8:2200};let f=!1;console.log("Boggle Board:",a);O(a);A(a);console.log(C);window.addEventListener(L,function(e){document.getElementById("boggle-board").getElementsByTagName("td"),e.target.classList.contains("cell")&&(h(e),f=!0)});function h(e){if(console.log(e.target.nodeName),!!e.target.classList.contains("cell")){if(e.target.style.backgroundColor==="yellow"){g(!1);return}if(c.length>0){const o=d[c.length-1],t=parseInt(o.getAttribute("data-row")),n=parseInt(o.getAttribute("data-col")),l=parseInt(e.target.getAttribute("data-row")),r=parseInt(e.target.getAttribute("data-col"));if(Math.abs(t-l)>1||Math.abs(n-r)>1){g(!1);return}}e.target.style.backgroundColor="yellow",c+=e.target.innerHTML,d.push(e.target),console.log(c),console.log(d)}}function g(e){c="",d=[],f=!1;const t=document.getElementById("boggle-board").getElementsByTagName("td");for(let n=0;n<t.length;n++)e||(t[n].style.backgroundColor="white");for(let n=0;n<t.length;n++)t[n].removeEventListener("mouseover",h)}window.addEventListener("mouseup",function(e){f&&(console.log(c),I(c),g(!0))});m&&E.addEventListener("click",function(e){I(c),g(!0)});async function W(e){let o=await j(T);return o=o.split(`
`),console.log("Checking word: "+e),o.includes(e)?(console.log(e+" was there!"),!0):(console.log(e+" was not there!"),!1)}async function j(e){var o=null,t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.status==200&&(o=t.responseText,console.log(typeof o)),o}async function I(e){console.log("Checking word: "+e),console.log(d),s=d,e=e.toLowerCase();let o=await W(e);if(console.log("Done checking word",o),o&&y.indexOf(e)===-1&&e.length>2){console.log(e+" was there!"),i+=w[e.length],k.textContent="Score: "+i,console.log("Your Score is: "+i),y.push(e);const t=document.createElement("li");t.textContent=e+" - "+w[e.length],M.appendChild(t);for(let n=0;n<s.length;n++)console.log(s[n]),s[n].style.backgroundColor="green";setTimeout(function(){for(let n=0;n<s.length;n++)console.log(s[n]),s[n].style.backgroundColor="white";s=[]},500)}else{console.log(e+" was NOT there...");for(let t=0;t<s.length;t++)console.log(s[t]),s[t].style.backgroundColor="red";setTimeout(function(){for(let t=0;t<s.length;t++)console.log(s[t]),s[t].style.backgroundColor="white";s=[]},500)}}function H(){var e=Date.now();let o=setInterval(function(){var t=Date.now()-e;let n=Y-Math.floor(t/1e3);N.textContent="Time: "+n,n<=0&&(alert("Time's up! Your score is: "+i),clearInterval(o),U())},1e3)}function U(){B.classList.add("hidden"),P.classList.remove("hidden");const e=document.getElementById("final-score");e.textContent="Your final score is: "+i+"!";const t=new URLSearchParams(window.location.search).get("score");t!==null&&(i>t?e.textContent+=" You beat the other persons score of "+t+"!":i<t?e.textContent+=" You lost to the other persons score of "+t+"!":e.textContent+=" You tied with the other persons score of "+t+"!")}b.addEventListener("click",function(){B.classList.remove("hidden"),b.parentElement.classList.add("hidden"),H()});R.addEventListener("click",function(){location.reload()});function S(e){let o="";for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){let r=e[t][n].charCodeAt(0);o+=r+"."}return o}function F(e){let o=[],t=[],n="";for(let l=0;l<e.length;l++){if(e[l]==="."){let r=String.fromCharCode(n);t.push(r),n=""}else n+=e[l];t.length===4&&(o.push(t),t=[])}return o}console.log(S(a));D.addEventListener("click",function(){let e=S(a),o=window.location.href;o=o.split("?")[0],o+="?boardSeed="+e,o+="&score="+i,navigator.clipboard.writeText(o).then(function(){console.log("Async: Copying to clipboard was successful!"),alert("Copied to clipboard!")},function(t){console.error("Async: Could not copy text: ",t)})});
